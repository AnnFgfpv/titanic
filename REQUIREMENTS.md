# üö¢ Titanic Microservices API - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#1-–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
- [2. –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞](#2-—Ü–µ–ª–∏-–∏-–∑–∞–¥–∞—á–∏-–ø—Ä–æ–µ–∫—Ç–∞)
- [3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#3-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
- [4. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#4-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#5-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [6. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#6-–Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [7. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö](#7-–º–æ–¥–µ–ª—å-–¥–∞–Ω–Ω—ã—Ö)
- [8. API –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](#8-api-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [9. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#9-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [10. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](#10-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é)

---

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### 1.1 –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**Titanic Microservices API** - REST API —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –ª–∞–π–Ω–µ—Ä–∞ RMS Titanic.

### 1.2 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—á–µ–±–Ω—ã–π —Å—Ç–µ–Ω–¥** –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
- –ù–∞–ø–∏—Å–∞–Ω–∏—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- –†–∞–±–æ—Ç—ã —Å REST API
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1.3 –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- Junior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–∏–∑—É—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤)
- QA-–∏–Ω–∂–µ–Ω–µ—Ä—ã (–ø—Ä–∞–∫—Ç–∏–∫–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- –°—Ç—É–¥–µ–Ω—Ç—ã IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π
- DevOps-–∏–Ω–∂–µ–Ω–µ—Ä—ã (–ø—Ä–∞–∫—Ç–∏–∫–∞ —Å Docker)

### 1.4 –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞** - –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏, –∞ –Ω–µ –Ω–∞ —Ç—Ä–∞–≥–µ–¥–∏–∏
- üé¨ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Å—Ö–∞–ª–∫–∏** –∏–∑ —Ñ–∏–ª—å–º–∞ "–¢–∏—Ç–∞–Ω–∏–∫" (1997)
- üîê **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏–Ω–∞
- üë• **–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - admin –∏ user —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- üìö **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** Swagger/OpenAPI
- üê≥ **–ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## 2. –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 2.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏

1. **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–ª—å**
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ REST API
   - –û–±—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–µ —Å Docker –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–µ–π

2. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–ª—å**
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ API –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–µ–Ω–¥–∞ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

3. **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∞—è —Ü–µ–ª—å**
   - –ù–∞–≥–ª—è–¥–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
   - –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ API

### 2.2 –ó–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å 4 —Å–µ—Ä–≤–∏—Å–∞–º–∏
- [x] –°–æ–∑–¥–∞—Ç—å CRUD API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º–∏
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- [x] –í–Ω–µ–¥—Ä–∏—Ç—å API Gateway –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] –î–æ–±–∞–≤–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ª–æ–≥–∏–Ω–æ–º
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (admin, user)
- [x] –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [x] –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [x] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–ø–∞—Å—Ö–∞–ª–∫–∏)

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### 3.1 –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ –¥–æ–º–µ–Ω–∞–º.

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   External Client    ‚îÇ
                    ‚îÇ  (Browser, Postman,  ‚îÇ
                    ‚îÇ   Test Framework)    ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
                               ‚îÇ HTTP (Port 8000)
                               ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ    API Gateway       ‚îÇ
                    ‚îÇ   - Routing          ‚îÇ
                    ‚îÇ   - CORS             ‚îÇ
                    ‚îÇ   - Request Proxy    ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                     ‚îÇ                     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Auth Service     ‚îÇ  ‚îÇ Passenger Service ‚îÇ  ‚îÇ Statistics Service  ‚îÇ
‚îÇ  - Registration  ‚îÇ‚óÑ‚îÄ‚î§  - CRUD Ops       ‚îÇ‚óÑ‚îÄ‚î§  - Aggregations     ‚îÇ
‚îÇ  - Login/Logout  ‚îÇ  ‚îÇ  - Validation     ‚îÇ  ‚îÇ  - Calculations     ‚îÇ
‚îÇ  - JWT Tokens    ‚îÇ  ‚îÇ  - JWT Verify     ‚îÇ  ‚îÇ  - HTTP Client      ‚îÇ
‚îÇ  - User Roles    ‚îÇ  ‚îÇ  - In-memory DB   ‚îÇ  ‚îÇ                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    (Port 8003)            (Port 8001)              (Port 8002)
```

### 3.2 –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **Separation of Concerns (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)**
   - –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –¥–æ–º–µ–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å
   - Passenger Service = –≤–ª–∞–¥–µ–ª–µ—Ü –¥–∞–Ω–Ω—ã—Ö
   - Statistics Service = –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫
   - API Gateway = –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∏ –ø—Ä–æ–∫—Å–∏—Ä—É—é—â–∏–π —Å–ª–æ–π

2. **Single Source of Truth**
   - Passenger Service - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞—Ö
   - –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API

3. **API First**
   - –í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ REST API
   - –ü–æ–ª–Ω–∞—è OpenAPI/Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ–º—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

4. **Stateless**
   - –°–µ—Ä–≤–∏—Å—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π
   - –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ–∑–∞–≤–∏—Å–∏–º

5. **Fail Fast**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–µ
   - –ë—ã—Å—Ç—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

---

## 4. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 4.1 –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----------|--------|------------|
| –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è | Python | 3.11+ | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| Web Framework | FastAPI | 0.104.1 | REST API —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| ASGI Server | Uvicorn | 0.24.0 | Production-ready —Å–µ—Ä–≤–µ—Ä |
| HTTP Client | httpx | 0.25.1 | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | Pydantic | 2.5.0+ | –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã |
| JWT Tokens | python-jose | 3.3.0 | JWT —Ç–æ–∫–µ–Ω—ã |
| –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | passlib[bcrypt] | 1.7.4 | –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | Docker | 20.10+ | –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ |
| –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è | Docker Compose | 2.0+ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ |

### 4.2 –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–û–°**: macOS, Linux, Windows (—Å WSL2 –¥–ª—è Docker)
- **RAM**: –º–∏–Ω–∏–º—É–º 4 GB, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 GB
- **CPU**: 2+ cores
- **–î–∏—Å–∫**: 2 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **Docker Desktop**: –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

#### –î–ª—è production:
- **RAM**: 2 GB –º–∏–Ω–∏–º—É–º (–ø–æ 512 MB –Ω–∞ —Å–µ—Ä–≤–∏—Å + overhead)
- **CPU**: 1+ cores
- **Network**: HTTP/HTTPS –¥–æ—Å—Ç—É–ø

### 4.3 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã –≤ `requirements.txt` –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:

**Auth Service:**
```txt
fastapi==0.104.1
uvicorn==0.24.0
pydantic==2.5.0
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
```

**Passenger Service:**
```txt
fastapi==0.104.1
uvicorn==0.24.0
pydantic==2.5.0
httpx==0.25.1
```

**Statistics Service:**
```txt
fastapi==0.104.1
uvicorn==0.24.0
httpx==0.25.1
```

**API Gateway:**
```txt
fastapi==0.104.1
uvicorn==0.24.0
httpx==0.25.1
```

---

## 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 5.1 Passenger Service (–°–µ—Ä–≤–∏—Å –ü–∞—Å—Å–∞–∂–∏—Ä–æ–≤)

#### FR-PS-001: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–Ω—ã–π CRUD –¥–ª—è –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-PS-001.1**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞ (POST /passengers)
- **FR-PS-001.2**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ (GET /passengers)
- **FR-PS-001.3**: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞ –ø–æ ID (GET /passengers/{id})
- **FR-PS-001.4**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞ (PUT /passengers/{id})
- **FR-PS-001.5**: –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞ (DELETE /passengers/{id})

#### FR-PS-002: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-PS-002.1**: –§–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∞—Å—Å—É –±–∏–ª–µ—Ç–∞ (pclass: 1, 2, 3)
- **FR-PS-002.2**: –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—É (sex: male, female)
- **FR-PS-002.3**: –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ—Ä—Ç—É –ø–æ—Å–∞–¥–∫–∏ (embarked)
- **FR-PS-002.4**: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### FR-PS-003: –ü–∞–≥–∏–Ω–∞—Ü–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-PS-003.1**: –ü–∞—Ä–∞–º–µ—Ç—Ä limit (1-1000, default=100)
- **FR-PS-003.2**: –ü–∞—Ä–∞–º–µ—Ç—Ä offset (‚â•0, default=0)

#### FR-PS-004: –ü–æ–∏—Å–∫
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–∏—Å–∫ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –ø–æ –∏–º–µ–Ω–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-PS-004.1**: GET /passengers/search?name={query}
- **FR-PS-004.2**: –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫
- **FR-PS-004.3**: –ü–æ–∏—Å–∫ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ

#### FR-PS-005: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Å—Ö–∞–ª–∫–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π (fun feature)  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—Ä–µ—Ç –Ω–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –î–∂–µ–∫–∞ –∏ –†–æ–∑—ã –≤ –æ–¥–Ω–æ–π –∫–∞—é—Ç–µ

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-PS-005.1**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
- **FR-PS-005.2**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
- **FR-PS-005.3**: –í–æ–∑–≤—Ä–∞—Ç HTTP 400 —Å —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

### 5.2 Statistics Service (–°–µ—Ä–≤–∏—Å –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)

#### FR-SS-001: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /stats - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-SS-001.1**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
- **FR-SS-001.2**: –°—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç
- **FR-SS-001.3**: –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞
- **FR-SS-001.4**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞
- **FR-SS-001.5**: –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### FR-SS-002: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /stats/by-class

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-SS-002.1**: –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ (1, 2, 3)
- **FR-SS-002.2**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
- **FR-SS-002.3**: –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞
- **FR-SS-002.4**: –°—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç

#### FR-SS-003: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ—Ä—Ç–∞–º
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /stats/by-port

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-SS-003.1**: –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ä—Ç–∞
- **FR-SS-003.2**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
- **FR-SS-003.3**: –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞

#### FR-SS-004: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /stats/destinations

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-SS-004.1**: –°–ø–∏—Å–æ–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- **FR-SS-004.2**: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ (desc)

#### FR-SS-005: –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /stats/age-distribution

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-SS-005.1**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–º
- **FR-SS-005.2**: –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
- **FR-SS-005.3**: 5 –≥—Ä—É–ø–ø: –¥–µ—Ç–∏, –ø–æ–¥—Ä–æ—Å—Ç–∫–∏, –≤–∑—Ä–æ—Å–ª—ã–µ, —Å—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–∂–∏–ª—ã–µ

### 5.3 API Gateway

#### FR-GW-001: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–µ—Ä–≤–∏—Å–∞–º

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-GW-001.1**: /api/passengers/* ‚Üí Passenger Service
- **FR-GW-001.2**: /api/stats/* ‚Üí Statistics Service
- **FR-GW-001.3**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **FR-GW-001.4**: –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

#### FR-GW-002: Health Check
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /health - —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-GW-002.1**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- **FR-GW-002.2**: –í–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ç—É—Å–∞ (healthy/unhealthy/unavailable)

#### FR-GW-003: CORS
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-GW-003.1**: Allow-Origins: * (–¥–ª—è dev)
- **FR-GW-003.2**: Allow-Methods: *
- **FR-GW-003.3**: Allow-Headers: *

#### FR-GW-004: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Auth Service

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-GW-004.1**: /api/auth/* ‚Üí Auth Service
- **FR-GW-004.2**: –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ Authorization –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- **FR-GW-004.3**: –û–±—Ä–∞–±–æ—Ç–∫–∞ 401 Unauthorized –æ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤

### 5.4 Auth Service (–°–µ—Ä–≤–∏—Å –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

#### FR-AS-001: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: POST /register - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-001.1**: –í–∞–ª–∏–¥–∞—Ü–∏—è username (3-50 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, _, -)
- **FR-AS-001.2**: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
- **FR-AS-001.3**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ username
- **FR-AS-001.4**: –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è (bcrypt)
- **FR-AS-001.5**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Ä–æ–ª–∏ "user"
- **FR-AS-001.6**: –í–æ–∑–≤—Ä–∞—Ç JWT —Ç–æ–∫–µ–Ω–æ–≤ (access + refresh)
- **FR-AS-001.7**: HTTP 201 Created –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
- **FR-AS-001.8**: HTTP 400 Bad Request –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–µ username

#### FR-AS-002: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ª–æ–≥–∏–Ω)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: POST /login - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-002.1**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **FR-AS-002.2**: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (bcrypt.verify)
- **FR-AS-002.3**: –ü—Ä–æ–≤–µ—Ä–∫–∞ is_active —Ñ–ª–∞–≥–∞
- **FR-AS-002.4**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö JWT —Ç–æ–∫–µ–Ω–æ–≤
- **FR-AS-002.5**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ refresh token –≤ –ø–∞–º—è—Ç–∏
- **FR-AS-002.6**: HTTP 401 –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö credentials
- **FR-AS-002.7**: HTTP 403 –ø—Ä–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

#### FR-AS-003: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: POST /refresh - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ access token

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-003.1**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ç–æ–∫–µ–Ω–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å refresh)
- **FR-AS-003.2**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ refresh token
- **FR-AS-003.3**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ refresh token (–Ω–µ –æ—Ç–æ–∑–≤–∞–Ω)
- **FR-AS-003.4**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ access token
- **FR-AS-003.5**: Refresh token –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º
- **FR-AS-003.6**: HTTP 401 –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ

#### FR-AS-004: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: GET /me - –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-004.1**: –¢—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω –≤ Authorization
- **FR-AS-004.2**: –ü–∞—Ä—Å–∏–Ω–≥ "Bearer <token>" –∑–∞–≥–æ–ª–æ–≤–∫–∞
- **FR-AS-004.3**: –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è JWT
- **FR-AS-004.4**: –í–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–µ–∑ password_hash)
- **FR-AS-004.5**: HTTP 401 –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏/–Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ

#### FR-AS-005: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: PUT /me - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-005.1**: –¢—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
- **FR-AS-005.2**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ email (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω—è–µ–º–æ–µ –ø–æ–ª–µ)
- **FR-AS-005.3**: –í–æ–∑–≤—Ä–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### FR-AS-006: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: POST /logout - –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è refresh token

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-006.1**: –¢—Ä–µ–±—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
- **FR-AS-006.2**: –£–¥–∞–ª–µ–Ω–∏–µ refresh token –∏–∑ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö
- **FR-AS-006.3**: HTTP 204 No Content –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
- **FR-AS-006.4**: Access token –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è

#### FR-AS-007: JWT —Ç–æ–∫–µ–Ω—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞–º–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-007.1**: Access token: 15 –º–∏–Ω—É—Ç TTL
- **FR-AS-007.2**: Refresh token: 7 –¥–Ω–µ–π TTL
- **FR-AS-007.3**: –ê–ª–≥–æ—Ä–∏—Ç–º: HS256
- **FR-AS-007.4**: Payload: username, user_id, role, type, exp
- **FR-AS-007.5**: –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### FR-AS-008: –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–µ–π admin –∏ user

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-008.1**: –†–æ–ª—å "admin" - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **FR-AS-008.2**: –†–æ–ª—å "user" - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **FR-AS-008.3**: –†–æ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JWT payload
- **FR-AS-008.4**: –ü–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å admin,
  –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ - —Ä–æ–ª—å user

#### FR-AS-009: In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ø–∞–º—è—Ç–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **FR-AS-009.1**: –°–ª–æ–≤–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ ID
- **FR-AS-009.2**: –°–ª–æ–≤–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ username
- **FR-AS-009.3**: Set –∞–∫—Ç–∏–≤–Ω—ã—Ö refresh —Ç–æ–∫–µ–Ω–æ–≤
- **FR-AS-009.4**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

---

## 6. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 6.1 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### NFR-PERF-001: –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (GET): < 200ms (p95)
- –°–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ (POST/PUT): < 500ms (p95)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: < 1000ms (p95)

#### NFR-PERF-002: –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- –ú–∏–Ω–∏–º—É–º 100 req/sec –Ω–∞ Gateway
- –ú–∏–Ω–∏–º—É–º 200 req/sec –Ω–∞ Passenger Service

#### NFR-PERF-003: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –î–æ 1000 –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –≤ –ø–∞–º—è—Ç–∏
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Docker Compose scale

### 6.2 –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

#### NFR-REL-001: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- Uptime: 99% (–¥–ª—è —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ (Docker restart policy)

#### NFR-REL-002: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

#### NFR-REL-003: Health Checks
- Health check endpoints –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- Timeout: 10 —Å–µ–∫—É–Ω–¥

### 6.3 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### NFR-SEC-001: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- Access token: 15 –º–∏–Ω—É—Ç, Refresh token: 7 –¥–Ω–µ–π
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: Authorization: Bearer <token>
- –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Auth Service

#### NFR-SEC-002: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL injection (–Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ –¥–ª—è in-memory)
- –ó–∞—â–∏—Ç–∞ –æ—Ç XSS —á–µ—Ä–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

#### NFR-SEC-003: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- Rate limiting (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è production)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä payload: 1 MB

### 6.4 –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### NFR-USE-001: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ü–æ–ª–Ω–∞—è OpenAPI/Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è Swagger UI
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

#### NFR-USE-002: –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –æ—à–∏–±–æ–∫
- –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ö–æ–¥—ã –æ—à–∏–±–æ–∫ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É HTTP

### 6.5 –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

#### NFR-MAINT-001: –ö–æ–¥
- PEP 8 —Å—Ç–∏–ª—å –∫–æ–¥–∞
- –¢–∏–ø–∏–∑–∞—Ü–∏—è (type hints)
- Docstrings –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π

#### NFR-MAINT-002: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
- –£—Ä–æ–≤–Ω–∏: INFO, WARNING, ERROR
- –í—ã–≤–æ–¥ –≤ stdout

#### NFR-MAINT-003: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Health check endpoints
- –ú–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ stdout (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ELK/Prometheus)

---

## 7. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### 7.1 Passenger (–ü–∞—Å—Å–∞–∂–∏—Ä)

**–û—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|--------------|-------------|----------|
| `id` | integer | –î–∞ (–∞–≤—Ç–æ) | ‚â• 1, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `name` | string | –î–∞ | 1-200 —Å–∏–º–≤–æ–ª–æ–≤ | –ü–æ–ª–Ω–æ–µ –∏–º—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞ |
| `pclass` | integer | –î–∞ | 1, 2 –∏–ª–∏ 3 | –ö–ª–∞—Å—Å –±–∏–ª–µ—Ç–∞ |
| `sex` | string | –î–∞ | "male" –∏–ª–∏ "female" | –ü–æ–ª –ø–∞—Å—Å–∞–∂–∏—Ä–∞ |
| `age` | integer | –ù–µ—Ç | 0-150 | –í–æ–∑—Ä–∞—Å—Ç –≤ –≥–æ–¥–∞—Ö |
| `fare` | float | –î–∞ | ‚â• 0 | –°—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞ –≤ —Ñ—É–Ω—Ç–∞—Ö |
| `embarked` | string | –î–∞ | Southampton, Cherbourg, Queenstown | –ü–æ—Ä—Ç –ø–æ—Å–∞–¥–∫–∏ |
| `destination` | string | –î–∞ | 1-200 —Å–∏–º–≤–æ–ª–æ–≤ | –ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |
| `cabin` | string | –ù–µ—Ç | 1-50 —Å–∏–º–≤–æ–ª–æ–≤ | –ù–æ–º–µ—Ä –∫–∞—é—Ç—ã |
| `ticket` | string | –î–∞ | 1-50 —Å–∏–º–≤–æ–ª–æ–≤ | –ù–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞ |

**–ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞:**
1. ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
2. –ö–æ–º–±–∏–Ω–∞—Ü–∏—è (name, ticket) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)
3. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞, ID –Ω–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
4. –ü–∞—Å—Ö–∞–ª–∫–∞: –î–∂–µ–∫ –∏ –†–æ–∑–∞ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –æ–¥–Ω–æ–π –∫–∞—é—Ç–µ

### 7.2 –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–û–±—ã—á–Ω—ã–π –ø–∞—Å—Å–∞–∂–∏—Ä:**
```json
{
  "id": 1,
  "name": "Braund, Mr. Owen Harris",
  "pclass": 3,
  "sex": "male",
  "age": 22,
  "fare": 7.25,
  "embarked": "Southampton",
  "destination": "New York",
  "cabin": null,
  "ticket": "A/5 21171"
}
```


---

## 8. API –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### 8.1 –ë–∞–∑–æ–≤—ã–µ URL

| –°–µ—Ä–≤–∏—Å | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π URL | –í–Ω–µ—à–Ω–∏–π URL | –ü–æ—Ä—Ç |
|--------|---------------|-------------|------|
| API Gateway | - | http://localhost:8000 | 8000 |
| Passenger Service | http://passenger-service:8001 | http://localhost:8001 | 8001 |
| Statistics Service | http://stats-service:8002 | http://localhost:8002 | 8002 |

### 8.2 Passenger Service API

#### 8.2.1 GET /passengers
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `pclass` (integer, optional): 1, 2 –∏–ª–∏ 3
- `sex` (string, optional): "male" –∏–ª–∏ "female"
- `embarked` (string, optional): –ø–æ—Ä—Ç –ø–æ—Å–∞–¥–∫–∏
- `limit` (integer, optional, default=100): 1-1000
- `offset` (integer, optional, default=0): ‚â•0

**Responses:**
- `200 OK`: –ú–∞—Å—Å–∏–≤ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
- `400 Bad Request`: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### 8.2.2 POST /passengers üîê
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞

**Headers:**
- `Authorization` (required): Bearer <access_token>

**Body:**
```json
{
  "name": "string",
  "pclass": 1,
  "sex": "male",
  "age": 25,
  "fare": 50.0,
  "embarked": "Southampton",
  "destination": "New York",
  "cabin": "C85",
  "ticket": "PC12345"
}
```

**Responses:**
- `201 Created`: –°–æ–∑–¥–∞–Ω–Ω—ã–π –ø–∞—Å—Å–∞–∂–∏—Ä
- `400 Bad Request`: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –ø–∞—Å—Ö–∞–ª–∫–∞
- `401 Unauthorized`: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω

#### 8.2.3 GET /passengers/{id}
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞ –ø–æ ID

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (integer, required): ID –ø–∞—Å—Å–∞–∂–∏—Ä–∞

**Responses:**
- `200 OK`: –î–∞–Ω–Ω—ã–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
- `404 Not Found`: –ü–∞—Å—Å–∞–∂–∏—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω

#### 8.2.4 PUT /passengers/{id} üîê
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞

**Headers:**
- `Authorization` (required): Bearer <access_token>

**Responses:**
- `200 OK`: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–∞—Å—Å–∞–∂–∏—Ä
- `400 Bad Request`: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `401 Unauthorized`: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
- `404 Not Found`: –ü–∞—Å—Å–∞–∂–∏—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω

#### 8.2.5 DELETE /passengers/{id} üîê
–£–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞

**Headers:**
- `Authorization` (required): Bearer <access_token>
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å: admin

**Responses:**
- `204 No Content`: –£—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω
- `401 Unauthorized`: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
- `403 Forbidden`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å admin)
- `404 Not Found`: –ü–∞—Å—Å–∞–∂–∏—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω

#### 8.2.6 GET /passengers/search
–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (string, required): –ü–æ–¥—Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
- `limit` (integer, optional, default=100)

**Responses:**
- `200 OK`: –ú–∞—Å—Å–∏–≤ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

### 8.3 Statistics Service API

#### 8.3.1 GET /stats
–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**Response:**
```json
{
  "total_passengers": 102,
  "average_age": 27.23,
  "average_fare": 33.80,
  "most_expensive_ticket": 512.33,
  "most_popular_destination": "Immigration"
}
```

#### 8.3.2 GET /stats/by-class
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º

**Response:**
```json
{
  "class_1": {
    "total": 22,
    "average_fare": 101.38,
    "average_age": 39.32
  },
  "class_2": {...},
  "class_3": {...}
}
```

#### 8.3.3 GET /stats/by-port
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ—Ä—Ç–∞–º

#### 8.3.4 GET /stats/destinations
–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 8.3.5 GET /stats/age-distribution
–í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

### 8.4 API Gateway

API Gateway –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã:
- `/api/passengers/*` ‚Üí Passenger Service
- `/api/stats/*` ‚Üí Statistics Service

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ endpoints:
- `GET /` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Gateway
- `GET /health` - —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## 9. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 9.1 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ú–µ—Ö–∞–Ω–∏–∑–º:** JWT (JSON Web Tokens) —Å Bearer —Å—Ö–µ–º–æ–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Access Token**: 15 –º–∏–Ω—É—Ç TTL, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
- **Refresh Token**: 7 –¥–Ω–µ–π TTL, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access token
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: HS256
- **–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á**: –ò–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `JWT_SECRET_KEY`

**–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:**
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: bcrypt
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: passlib[bcrypt]
- **Rounds**: default (–æ–±—ã—á–Ω–æ 12)

**–§–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞:**
```
Authorization: Bearer <access_token>
```

### 9.2 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
1. **admin** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º
   - –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º–∏ (–≤–∫–ª—é—á–∞—è DELETE)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º
   
2. **user** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ (POST, PUT)
   - –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (GET)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º
   - **–ù–ï –ú–û–ñ–ï–¢** —É–¥–∞–ª—è—Ç—å –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ (DELETE)

**–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- POST /passengers - —Ç—Ä–µ–±—É–µ—Ç —Ä–æ–ª—å user –∏–ª–∏ admin
- PUT /passengers/{id} - —Ç—Ä–µ–±—É–µ—Ç —Ä–æ–ª—å user –∏–ª–∏ admin
- DELETE /passengers/{id} - —Ç—Ä–µ–±—É–µ—Ç —Ä–æ–ª—å admin
- GET /auth/me - —Ç—Ä–µ–±—É–µ—Ç –ª—é–±—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- PUT /auth/me - —Ç—Ä–µ–±—É–µ—Ç –ª—é–±—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- POST /auth/logout - —Ç—Ä–µ–±—É–µ—Ç –ª—é–±—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

**–û—Ç–∫—Ä—ã—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- –í—Å–µ GET /passengers/* endpoints
- –í—Å–µ GET /stats/* endpoints
- POST /auth/register
- POST /auth/login
- POST /auth/refresh
- Health checks

**–ú–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π:**
- –ü–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí —Ä–æ–ª—å **admin** (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí —Ä–æ–ª—å **user** (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è)

### 9.3 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å JWT —Ç–æ–∫–µ–Ω–æ–≤

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤:**
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ env)
- –í–∫–ª—é—á–µ–Ω–∏–µ exp (expiration) claim
- –í–∫–ª—é—á–µ–Ω–∏–µ type claim (access/refresh)
- –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –≤ payload

**–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (signature verification)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (exp claim)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ç–æ–∫–µ–Ω–∞ (access –¥–ª—è API, refresh –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–∞–º–∏:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ø–∞–º—è—Ç–∏ (Set)
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ logout
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤ —Å–ø–∏—Å–∫–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –¢–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ HTTPS (–≤ production)
- Access token –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ (15 –º–∏–Ω) –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∏—Å–∫–∞
- Refresh token –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

### 9.4 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

1. **Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è** –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ API
2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** –Ω–∞ –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã —á–∏—Å–µ–ª
4. **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è** –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è username** - —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, _, -
6. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è** - 6 —Å–∏–º–≤–æ–ª–æ–≤

### 9.5 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "detail": "Human-readable error message"
}
```

---

## 10. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 10.1 Docker Compose

**–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:**
```bash
docker-compose up --build
```

**–°–µ—Ä–≤–∏—Å—ã:**
- `auth-service` - Auth Service (JWT —Ç–æ–∫–µ–Ω—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- `passenger-service` - Passenger Service (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç auth-service)
- `stats-service` - Statistics Service (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç passenger-service)
- `gateway` - API Gateway (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)

**–ü–æ—Ä—Ç—ã:**
- `8000` - API Gateway (–≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø)
- `8001` - Passenger Service (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- `8002` - Statistics Service (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- `8003` - Auth Service (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)

**–°–µ—Ç—å:**
- –ò–º—è: `titanic-network`
- –¢–∏–ø: bridge
- –ò–∑–æ–ª—è—Ü–∏—è: –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏

### 10.2 Health Checks

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç:
- **Endpoint**: GET /
- **Interval**: 30s
- **Timeout**: 10s
- **Retries**: 3
- **Start period**: 10s

### 10.3 Restart Policy

`restart: unless-stopped` –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 10.4 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **–§–æ—Ä–º–∞—Ç**: Plain text (stdout)
- **–£—Ä–æ–≤–Ω–∏**: INFO, WARNING, ERROR
- **Rotation**: –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Docker

### 10.5 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Auth Service:**
- `JWT_SECRET_KEY` (default: titanic-super-secret-key-change-in-production-2024)
- `ACCESS_TOKEN_EXPIRE_MINUTES` (default: 15)
- `REFRESH_TOKEN_EXPIRE_DAYS` (default: 7)

**Passenger Service:**
- `AUTH_SERVICE_URL` (default: http://auth-service:8003)

**Gateway:**
- `AUTH_SERVICE_URL` (default: http://auth-service:8003)
- `PASSENGER_SERVICE_URL` (default: http://passenger-service:8001)
- `STATS_SERVICE_URL` (default: http://stats-service:8002)

**Statistics Service:**
- `PASSENGER_SERVICE_URL` (default: http://passenger-service:8001)

---

## 11. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

### 11.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

- ‚úÖ –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ 5 —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–∞—Å—Ö–∞–ª–∫–∞ —Å –î–∂–µ–∫–æ–º –∏ –†–æ–∑–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞—â–∏—â–∞–µ—Ç –Ω—É–∂–Ω—ã–µ endpoints
- ‚úÖ GET endpoints –æ—Ç–∫—Ä—ã—Ç—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 11.2 –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

- ‚úÖ Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ –í—Å–µ endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ Health checks —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose
- ‚úÖ –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ stdout
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

### 11.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
- ‚úÖ REQUIREMENTS.md —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã curl –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Å—Ö–∞–ª–æ–∫

---

## 12. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**
   - –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã
   - –¢–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ~1000 –∑–∞–ø–∏—Å–µ–π

2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**
   - –ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ CSV
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

3. **–ü—Ä–æ—Å—Ç–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
   - –•–∞—Ä–¥–∫–æ–¥ API –∫–ª—é—á–µ–π –≤ –∫–æ–¥–µ
   - –ù–µ—Ç —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏
   - –ù–µ—Ç –∏—Å—Ç–µ—á–µ–Ω–∏—è –∫–ª—é—á–µ–π

4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - In-memory –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞
   - –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏

5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –æ–¥–Ω–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º Python
   - –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–µ—Ç connection pooling

---

## 13. Roadmap (–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

### Phase 2 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (PostgreSQL/MongoDB)
- [ ] JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ API –∫–ª—é—á–µ–π
- [ ] –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (admin/user)
- [ ] Rate limiting
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)

### Phase 3 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] Message broker (RabbitMQ/Kafka)
- [ ] Event-driven architecture
- [ ] Prometheus –º–µ—Ç—Ä–∏–∫–∏
- [ ] ELK —Å—Ç–µ–∫ –¥–ª—è –ª–æ–≥–æ–≤
- [ ] Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã

### Phase 4 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] GraphQL endpoint
- [ ] WebSocket –¥–ª—è real-time
- [ ] Frontend (React)
- [ ] CI/CD pipeline

---

## 14. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ü—Ä–æ–µ–∫—Ç**: Titanic Microservices API  
**–í–µ—Ä—Å–∏—è**: 2.0.0  
**–¢–∏–ø**: –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: MIT

**–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π:**
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ò–∑—É—á–∏—Ç–µ README.md
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

**–î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–µ–Ω –Ω–∞**: –û–∫—Ç—è–±—Ä—å 2025  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0

